/* ============================================
   RESPONSIVE BREAKPOINTS
   Data Strategic Transformation | Moneda Patria

   Maneja escalas del sistema y viewports reducidos
   ============================================ */

/* ============================================
   HIGH DPI / RETINA DISPLAYS
   ============================================ */
@media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi) {
    :root {
        --slide-padding-x: clamp(50px, 5vw, 100px);
        --slide-padding-y: clamp(35px, 3vw, 55px);
    }

    .presentation-container {
        /* Optimización para pantallas de alta densidad */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Ajustar spacing del warning-box en high DPI para centrado visual */
    .warning-box {
        margin-top: clamp(16px, 2.5vh, 32px);
        margin-bottom: clamp(40px, 6vh, 64px);
    }

    /* Card styling optimizations moved to end of file for proper precedence */
}

/* ============================================
   MEDIUM VIEWPORTS (1280px - 1600px)
   Típico: Windows 1080p @ 150%, MacBook 13"
   ============================================ */
@media (max-width: 1600px) {
    :root {
        --space-xl: clamp(28px, 1.8vw, 36px);
        --space-xxl: clamp(36px, 2.2vw, 48px);
        --slide-padding-x: clamp(50px, 5.5vw, 100px);
        --slide-padding-y: clamp(35px, 3vw, 55px);
    }

    /* Reducir gaps solo en resoluciones medias sin High DPI */
    @media (max-device-pixel-ratio: 1.4) {
        .key-points {
            gap: clamp(16px, 1.2vw, 20px);
        }

        .productivity-grid {
            gap: clamp(16px, 1.2vw, 20px);
        }

        .team-metrics {
            gap: clamp(16px, 1.2vw, 20px);
        }

        .investment-grid {
            gap: clamp(16px, 1.2vw, 20px);
        }
    }

    /* Ajustar CTA section */
    .cta-section {
        padding: clamp(20px, 2vw, 30px) clamp(16px, 1.5vw, 24px);
    }

    .cta-section h2 {
        font-size: clamp(20px, 1.8vw, 28px);
        line-height: 1.3;
    }
}

/* ============================================
   SMALL VIEWPORTS (1024px - 1280px)
   Típico: Windows 1080p @ 175%, iPad Pro landscape
   ============================================ */
@media (max-width: 1280px) {
    :root {
        --slide-padding-x: clamp(40px, 4vw, 80px);
        --slide-padding-y: clamp(30px, 2.5vw, 50px);
        --font-h1: clamp(32px, 2.5vw, 48px);
        --font-h2: clamp(28px, 2vw, 38px);
    }

    /* Reducir grid columns en secciones complejas */
    .productivity-grid {
        grid-template-columns: 1fr 1fr 1fr;
        gap: var(--space-sm);
    }

    .team-metrics {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-sm);
    }

    .investment-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-sm);
    }

    .capabilities-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Ajustar failure visualization para viewports pequeños */
    .failure-visualization {
        grid-template-columns: 280px 1fr;
        gap: var(--space-lg);
    }

    .disconnect-diagram {
        grid-template-columns: 320px 80px 320px;
    }

    /* Reducir tamaño de iconos */
    .metric-icon {
        font-size: calc(var(--icon-small) * 0.9);
    }

    /* Ajustar footnote */
    .footnote {
        bottom: 70px;
        left: 80px;
        right: 80px;
        font-size: 12px;
    }
}

/* ============================================
   EXTRA SMALL VIEWPORTS (< 1024px)
   Típico: Tablets, Windows con zoom extremo
   ============================================ */
@media (max-width: 1024px) {
    :root {
        --slide-padding-x: clamp(30px, 3vw, 60px);
        --slide-padding-y: clamp(25px, 2vw, 40px);
        --font-h1: clamp(28px, 2.2vw, 40px);
        --font-h2: clamp(24px, 1.8vw, 32px);
        --font-h3: clamp(20px, 1.5vw, 28px);
    }

    /* Stack layouts verticalmente */
    .productivity-grid {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }

    .team-metrics {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }

    .investment-grid {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }

    .deliverables-grid {
        grid-template-columns: 1fr;
    }

    .decision-options {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }

    .capabilities-grid {
        grid-template-columns: 1fr 1fr;
    }

    .transformation-timeline {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-sm);
    }

    .timeline {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Simplificar failure visualization */
    .failure-visualization {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }

    .disconnect-diagram {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }

    .disconnect-center {
        transform: rotate(90deg);
        margin: var(--space-sm) 0;
    }

    /* Reducir CTA section */
    .cta-section {
        padding: var(--space-md) var(--space-sm);
    }

    .cta-section h2 {
        font-size: var(--font-h3);
    }

    /* Ajustar navegación */
    .navigation {
        padding: var(--space-xs);
    }

    .nav-btn {
        width: 40px;
        height: 40px;
        font-size: 16px;
    }
}

/* ============================================
   MOBILE LANDSCAPE (< 900px)
   ============================================ */
@media (max-width: 900px) and (orientation: landscape) {
    :root {
        --slide-padding-y: clamp(20px, 1.5vw, 30px);
    }

    .footnote {
        font-size: 10px;
        bottom: 60px;
        left: 60px;
        right: 60px;
    }

    .navigation {
        bottom: 12px;
    }
}

/* ============================================
   MOBILE PORTRAIT (< 768px)
   ============================================ */
@media (max-width: 768px) {
    :root {
        --slide-padding-x: clamp(20px, 2.5vw, 40px);
        --slide-padding-y: clamp(20px, 1.5vw, 30px);
        --font-h1: clamp(24px, 2vw, 32px);
        --font-body: clamp(14px, 0.9vw, 16px);
        --font-small: clamp(12px, 0.8vw, 14px);
        --font-tiny: clamp(10px, 0.7vw, 12px);
    }

    /* Todo a una columna */
    .capabilities-grid,
    .transformation-timeline,
    .timeline,
    .track-grid,
    .roles-grid {
        grid-template-columns: 1fr;
    }

    /* Ocultar elementos decorativos si es necesario */
    .title-decorator {
        display: none;
    }

    /* Simplificar journey timeline */
    .journey-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .year-badge {
        width: 60px;
        height: 60px;
        font-size: var(--font-h5);
    }
}

/* ============================================
   PRINT STYLES
   ============================================ */
@media print {
    body {
        background: white;
        overflow: visible;
    }

    .presentation-container {
        box-shadow: none;
        transform: none !important;
        width: 100%;
        height: auto;
        position: relative;
    }

    .slide {
        position: relative;
        opacity: 1 !important;
        transform: none !important;
        page-break-after: always;
        height: auto;
        min-height: 100vh;
    }

    .navigation {
        display: none;
    }
}

/* ============================================
   HIGH DPI GRID OPTIMIZATIONS (FINAL OVERRIDE)
   Must come after all viewport queries for proper precedence
   ============================================ */
@media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi) {
    /* Optimizar grids en High DPI para mejor uso del espacio */
    .productivity-grid,
    .key-points,
    .capabilities-grid {
        gap: clamp(20px, 1.8vw, 28px) !important;
    }

    .productivity-card,
    .point,
    .capability-card {
        padding: clamp(28px, 2.5vw, 40px);
        min-height: 140px;
    }

    .productivity-card h3,
    .point h3,
    .capability-card h3 {
        font-size: clamp(20px, 1.6vw, 26px);
        margin-bottom: clamp(12px, 1vw, 16px);
    }

    .productivity-card p,
    .point p,
    .capability-card p {
        font-size: clamp(15px, 1.2vw, 17px);
        line-height: 1.6;
    }
}
